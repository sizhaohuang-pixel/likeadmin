# CLAUDE.md

æœ¬æ–‡ä»¶ä¸º Claude Code (claude.ai/code) åœ¨æ­¤ä»“åº“ä¸­å·¥ä½œæ—¶æä¾›æŒ‡å¯¼ã€‚

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ LikeAdmin - ä¸€ä¸ªå¤šå¹³å°ç®¡ç†ç³»ç»Ÿï¼Œå…·å¤‡è´¦æˆ·ç®¡ç†åŠŸèƒ½ã€‚é¡¹ç›®åŒ…å«å››ä¸ªä¸»è¦åº”ç”¨ï¼š

- **æœåŠ¡ç«¯ (Backend)**: ThinkPHP 6.0 API æœåŠ¡å™¨ (`E:\aicode\likeadmin\server\`)
- **ç®¡ç†åå° (Management)**: Vue.js 3 + Element Plus ç®¡ç†é¢æ¿ (`E:\aicode\likeadmin\admin\`)  
- **PCç«¯ (Frontend)**: Nuxt.js 3 ç½‘é¡µåº”ç”¨ (`E:\aicode\likeadmin\pc\`)
- **ç§»åŠ¨ç«¯ (Mobile)**: Uni-app è·¨å¹³å°ç§»åŠ¨åº”ç”¨ (`E:\aicode\likeadmin\uniapp\`)

## åç«¯æœåŠ¡å™¨é€šè¿‡ phpstudy åœ¨ `http://www.lineuk.com` è¿è¡Œï¼ˆæ— éœ€æ‰‹åŠ¨å¯åŠ¨ï¼‰ã€‚
## å¦‚æœéœ€è¦æ“ä½œæ•°æ®åº“ï¼Œå¯ä»¥ç›´æ¥å…è®¸mysqlå‘½ä»¤ï¼Œæ•°æ®åº“æ˜¯ï¼šlikeadmin, è´¦å·æ˜¯rootï¼Œå¯†ç æ˜¯123456

## æ¶æ„æ¦‚è§ˆ

### åç«¯ç»“æ„ (ThinkPHP 6.0)
- **æ§åˆ¶å™¨ (Controllers)**: `server/app/adminapi/controller/` - APIç«¯ç‚¹å’Œè¯·æ±‚å¤„ç†
- **ä¸šåŠ¡é€»è¾‘ (Logic)**: `server/app/adminapi/logic/` - ä¸šåŠ¡é€»è¾‘å±‚
- **æ¨¡å‹ (Models)**: `server/app/common/model/` - æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“äº¤äº’
- **éªŒè¯å™¨ (Validation)**: `server/app/adminapi/validate/` - è¯·æ±‚å‚æ•°éªŒè¯
- **è·¯ç”± (Routes)**: `server/app/adminapi/route/` - APIè·¯ç”±å®šä¹‰
- **åˆ—è¡¨ç±» (Lists)**: `server/app/adminapi/lists/` - æ•°æ®åˆ—è¡¨å’Œåˆ†é¡µé€»è¾‘
- **æœåŠ¡ç±» (Services)**: `server/app/common/service/` - å¯å¤ç”¨çš„æœåŠ¡ç±»

### å‰ç«¯ç»“æ„ (Vue.js 3)
- **è§†å›¾ (Views)**: `admin/src/views/` - æŒ‰åŠŸèƒ½ç»„ç»‡çš„é¡µé¢ç»„ä»¶
- **ç»„ä»¶ (Components)**: `admin/src/components/` - å¯å¤ç”¨çš„UIç»„ä»¶
- **APIæœåŠ¡ (API)**: `admin/src/api/` - åç«¯é€šä¿¡çš„APIæœåŠ¡å±‚
- **çŠ¶æ€ç®¡ç† (Stores)**: `admin/src/stores/` - PiniaçŠ¶æ€ç®¡ç†
- **è·¯ç”± (Router)**: `admin/src/router/` - Vue Routeré…ç½®
- **ç±»å‹å®šä¹‰ (Types)**: `admin/src/typings/` - TypeScriptç±»å‹å®šä¹‰

### æ ¸å¿ƒåŠŸèƒ½
- **è´¦æˆ·ç®¡ç†**: å°å·(alt_account)ç®¡ç†ï¼Œæ”¯æŒå±‚çº§æƒé™
- **ç”¨æˆ·ç®¡ç†**: å¤šè§’è‰²ç”¨æˆ·ç³»ç»Ÿï¼ŒåŒ…å«ä»£ç†å•†å’Œç§Ÿæˆ·
- **å¥—é¤ç³»ç»Ÿ**: èµ„æºåˆ†é…å’Œç«¯å£ç®¡ç†
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œæ”¯æŒå±‚çº§å…³ç³»
- **æ–‡ä»¶ä¸Šä¼ **: å¤šå­˜å‚¨åç«¯æ”¯æŒï¼ˆæœ¬åœ°ã€äº‘ç«¯ï¼‰
- **å¯¼å…¥å¯¼å‡º**: æ‰¹é‡æ“ä½œï¼Œæ”¯æŒExcel/CSVæ ¼å¼

## å…¨æ ˆå¼€å‘å·¥ä½œæµç¨‹

**å§‹ç»ˆéµå¾ªåç«¯ä¼˜å…ˆçš„æ–¹æ³•**ï¼š

1. **å¼€å‘å‰å‡†å¤‡**ï¼š
   - **å¿…é¡»å…ˆé˜…è¯» `DEVELOPMENT_LOG.md` äº†è§£é¡¹ç›®æœ€æ–°çŠ¶æ€å’Œå†å²å˜æ›´**
   - **å¿…é¡»ä½¿ç”¨ TodoWrite å·¥å…·åˆ›å»ºä»»åŠ¡æ¸…å•ï¼Œæœ€åä¸€é¡¹å¿…é¡»æ˜¯"æ›´æ–°DEVELOPMENT_LOG.md"**
   - åˆ†æéœ€æ±‚ï¼Œè§„åˆ’å¼€å‘æ­¥éª¤

2. **åç«¯å¼€å‘**ï¼š
   - åœ¨ `server/app/common/model/` ä¸­åˆ›å»º/ä¿®æ”¹æ¨¡å‹
   - åœ¨ `server/app/adminapi/logic/` ä¸­æ·»åŠ ä¸šåŠ¡é€»è¾‘
   - åœ¨ `server/app/adminapi/validate/` ä¸­åˆ›å»ºéªŒè¯å™¨
   - åœ¨ `server/app/adminapi/controller/` ä¸­æ„å»ºæ§åˆ¶å™¨
   - åœ¨ `server/app/adminapi/route/` ä¸­å®šä¹‰è·¯ç”±

3. **å‰ç«¯å¼€å‘**ï¼š
   - åœ¨ `admin/src/typings/` ä¸­å®šä¹‰TypeScriptç±»å‹
   - åœ¨ `admin/src/api/` ä¸­åˆ›å»ºAPIæœåŠ¡
   - åœ¨ `admin/src/views/` æˆ– `admin/src/components/` ä¸­æ„å»ºVueç»„ä»¶
   - å¦‚éœ€è¦ï¼Œåœ¨ `admin/src/router/` ä¸­æ›´æ–°è·¯ç”±

4. **æ–‡æ¡£æ›´æ–° [å¿…é¡»æ­¥éª¤]**ï¼š
   - **åœ¨ä»»åŠ¡å®Œæˆå‰å¿…é¡»æ›´æ–° `DEVELOPMENT_LOG.md`**
   - **è®°å½•æ‰€æœ‰æ–‡ä»¶å˜æ›´ã€æŠ€æœ¯å†³ç­–ã€é—®é¢˜è§£å†³è¿‡ç¨‹**
   - **è¿™æ˜¯å¼€å‘å·¥ä½œæµç¨‹çš„å¿…è¦ç»„æˆéƒ¨åˆ†ï¼Œä¸å¯çœç•¥**

## å¼€å‘æŒ‡å—

### ä»£ç é£æ ¼
- **åç«¯**: éµå¾ªThinkPHP 6.0çº¦å®šå’ŒPSRæ ‡å‡†
- **å‰ç«¯**: ä½¿ç”¨Vue.js 3 Composition APIé…åˆTypeScript
- **ç”¨æˆ·ç•Œé¢**: ä½¿ç”¨Element Plusç»„ä»¶ä¿æŒä¸€è‡´æ€§
- **çŠ¶æ€ç®¡ç†**: å¤æ‚çŠ¶æ€ç®¡ç†ä½¿ç”¨Pinia

### æ•°æ®åº“çº¦å®š
- è¡¨åä»¥ `la_` ä¸ºå‰ç¼€ (å¦‚ `la_admin`, `la_alt_account`)
- å­—æ®µåä½¿ç”¨ snake_case å‘½å
- æ ‡å‡†è¡¨åŒ…å« `create_time`, `update_time`, `delete_time` å­—æ®µ

### APIå“åº”æ ¼å¼
æ‰€æœ‰APIå“åº”éµå¾ªä»¥ä¸‹ç»“æ„ï¼š
```php
{
    "code": 1,      // 1 = æˆåŠŸ, 0 = é”™è¯¯
    "msg": "æ“ä½œæˆåŠŸ", // ä¸­æ–‡æ¶ˆæ¯
    "data": {...}   // å“åº”æ•°æ®
}
```

### æƒé™ç³»ç»Ÿ
- **è¶…çº§ç®¡ç†å‘˜**: æ‹¥æœ‰ç³»ç»Ÿå®Œæ•´è®¿é—®æƒé™
- **ä»£ç†å•†**: å¯ä»¥ç®¡ç†ç§Ÿæˆ·å’Œèµ„æº
- **ç§Ÿæˆ·**: ä»…é™è®¿é—®åˆ†é…çš„èµ„æº
- ä½¿ç”¨ `AdminHierarchyService` è¿›è¡Œæƒé™æ£€æŸ¥

### âš ï¸ å…³é”®æé†’ - ç»å¯¹ä¸èƒ½å¿˜è®° âš ï¸

**ğŸš¨ å¼€å‘æ—¥å¿—ç®¡ç†å…³é”®æµç¨‹ ğŸš¨**
- **å¼€å§‹ä»»åŠ¡å‰ï¼šå¿…é¡»å…ˆé˜…è¯» `DEVELOPMENT_LOG.md` ä¸»ç´¢å¼•äº†è§£é¡¹ç›®å†å²å’Œæ¨¡å—ç»“æ„**
- **å¼€å‘è¿‡ç¨‹ä¸­ï¼šæ¯æ¬¡å¼€å‘ä»»åŠ¡éƒ½å¿…é¡»æ›´æ–°å¯¹åº”åŠŸèƒ½æ¨¡å—çš„æ—¥å¿—æ–‡ä»¶ - è¿™æ˜¯å¼ºåˆ¶æ€§è¦æ±‚**
- **ä»»åŠ¡è§„åˆ’æ—¶ï¼šåœ¨TodoWriteåˆ›å»ºä»»åŠ¡æ¸…å•æ—¶ï¼Œå¿…é¡»å°†"æ›´æ–°å¼€å‘æ—¥å¿—"è®¾ä¸ºæœ€åä¸€ä¸ªä»»åŠ¡**
- **å®Œæˆæ£€æŸ¥æ—¶ï¼šä»»åŠ¡æœªå®ŒæˆæŠ¥å‘Šç»™ç”¨æˆ·å‰ï¼Œå¿…é¡»å…ˆæ£€æŸ¥ç›¸å…³æ¨¡å—æ—¥å¿—æ˜¯å¦å·²æ›´æ–°**
- **æ–°è®°å½•ä½ç½®ï¼šæ ¹æ®åŠŸèƒ½é€‰æ‹©å¯¹åº”æ¨¡å—æ–‡ä»¶è¿›è¡Œè®°å½•**
  - ä»»åŠ¡ç®¡ç†åŠŸèƒ½ â†’ `docs/development-logs/2025/09-task-management.md`
  - å°å·ç®¡ç†åŠŸèƒ½ â†’ `docs/development-logs/2025/09-alt-account.md`  
  - ç«¯å£ç®¡ç†åŠŸèƒ½ â†’ `docs/development-logs/2025/09-user-port.md`
  - åŸºç¡€æ¶æ„åŠŸèƒ½ â†’ `docs/development-logs/2025/09-infrastructure.md`
  - æ•°æ®åº“ç›¸å…³ â†’ `docs/development-logs/2025/09-database.md`
- **æ–°æ¨¡å—å¼€å‘ï¼šåˆ›å»ºæ–°çš„ `YYYY-MM-æ¨¡å—å.md` æ–‡ä»¶å¹¶æ›´æ–°ä¸»ç´¢å¼•**
- **è·¨æ¨¡å—åŠŸèƒ½ï¼šåœ¨ç›¸å…³çš„å¤šä¸ªæ¨¡å—æ–‡ä»¶ä¸­éƒ½æ·»åŠ è®°å½•ï¼Œå¹¶ç›¸äº’å¼•ç”¨**

### å…¶ä»–é‡è¦æç¤º
- åç«¯æœåŠ¡å™¨åœ¨ `http://www.lineuk.com` è‡ªåŠ¨è¿è¡Œ - æ— éœ€æ‰‹åŠ¨å¯åŠ¨
- ä½¿ç”¨ç°æœ‰çš„ QWEN.md æŒ‡å—è¿›è¡Œå…¨æ ˆå¼€å‘å·¥ä½œæµç¨‹
- éµå¾ªå·²å»ºç«‹çš„å¯¼å…¥/å¯¼å‡ºæ¨¡å¼è¿›è¡Œæ‰¹é‡æ“ä½œ
- ä¿®æ”¹ç°æœ‰APIæ—¶ä¿æŒå‘åå…¼å®¹æ€§

## æµ‹è¯•å’ŒéªŒè¯
- åç«¯: é€šè¿‡ `http://www.lineuk.com/adminapi/` è®¿é—®API
- ç®¡ç†é¢æ¿: `http://www.lineuk.com/admin` (ç”Ÿäº§ç¯å¢ƒ) æˆ– `http://localhost:5173/admin` (å¼€å‘ç¯å¢ƒ)
- å§‹ç»ˆæµ‹è¯•åˆ›å»º/ç¼–è¾‘åœºæ™¯å’Œåˆ—è¡¨/åˆ é™¤æ“ä½œ
- éªŒè¯æƒé™æ§åˆ¶åœ¨ä¸åŒç”¨æˆ·è§’è‰²ä¸‹æ­£ç¡®å·¥ä½œ